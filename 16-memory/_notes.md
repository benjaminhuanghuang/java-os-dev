
# Hello OS
[检测可用内存](https://blog.csdn.net/tyler_download/article/details/52927236)


https://www.bilibili.com/video/BV1hJ411n7rs?p=16


使用15h中断。其具体步骤如下：

1： 将寄存器ax 赋值为 0E820h
2 : 将寄存器ebx 初始化为0，该寄存器的内容会被BIOS修改，修改成什么数值，我们不用关心，但必须保证内存查询过程中，该寄存器不会被修改。
3： es:di 指向一块足够大的内存地址，BIOS会把有关内存的信息写到这个地址，内存信息是一种数据结构，称之为地址范围描述符。
4： ecx 寄存器存储es:di所指向的内存大小，以字节为单位，BIOS最多会填充ecx个字节的数据，通常情况下，无论ecx的数值是多少，BIOS都只填充20字节，有些BIOS直接忽略ecx的值，总是填充20字节。
5： edx寄存器的值设置为0534D4150h, 这个数值其实对应的是字符组合”SMAP”,其作用我们可以暂时忽略。

做完上面的配置后，执行int 15h 中断，中断结果的分析如下：