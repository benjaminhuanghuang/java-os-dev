
# Hello OS
[消除图层刷新而导致的严重闪烁-2](https://blog.csdn.net/tyler_download/article/details/53406143)


https://www.bilibili.com/video/BV1hJ411n7rs?p=25

当鼠标放在不断刷新自己的Message Box上面时，鼠标会闪动起来，这是因为，当窗体自身刷新时，处于它上方的窗体也进行刷新，而这种操作其实是没有必要的。
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 
1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 
1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 
1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2
……………………..2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
……………………. 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
……………………..2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2
```
窗口1的右下边部分被窗口2所覆盖，并且窗口2比窗口1的高度还要高，当窗口1的像素进行刷新时，如果窗口2的内容没有变化的话，那么窗口2 完全不需要进行刷新，这就要求窗口1只能更新那些没有被窗口2覆盖的点，也就是说，窗口1只能更新一下部分像素点：
```
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1
1 1 1 1 1 1 1 1
```
